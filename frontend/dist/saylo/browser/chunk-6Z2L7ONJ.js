import{a as L,b as x,c as T,d as z,f as I,g as V,h as G,i as N,k as j}from"./chunk-R6UZD5DC.js";import{$ as t,A as _,Ea as k,I as a,J as g,La as P,Ma as E,P as h,R as m,S as v,U as C,W as u,Xa as O,Ya as A,Za as B,_ as e,aa as s,ca as f,da as b,ia as l,ja as y,ka as S,qa as M,r as w,z as p}from"./chunk-YM6L5LQP.js";import"./chunk-2H7K6JAD.js";function F(i,c){if(i&1&&(e(0,"span",21),l(1),t()),i&2){let r=b();a(),y(r.getError("email"))}}function q(i,c){i&1&&(p(),e(0,"svg",26),s(1,"path",31)(2,"line",32),t())}function D(i,c){i&1&&(p(),e(0,"svg",26),s(1,"path",33)(2,"circle",34),t())}function H(i,c){if(i&1&&(e(0,"span",21),l(1),t()),i&2){let r=b();a(),y(r.getError("password"))}}function R(i,c){if(i&1&&(e(0,"div",27),p(),e(1,"svg",26),s(2,"circle",35)(3,"line",36)(4,"line",37),t(),l(5),t()),i&2){let r=b();a(5),S(" ",r.serverError()," ")}}function W(i,c){i&1&&(s(0,"span",38),l(1," Signing in... "))}function $(i,c){i&1&&(l(0," Sign in "),p(),e(1,"svg",39),s(2,"line",40)(3,"polyline",41),t())}var oe=(()=>{class i{constructor(r,o,n,d){this.fb=r,this.auth=o,this.snack=n,this.router=d,this.loading=h(!1),this.showPassword=h(!1),this.serverError=h(""),this.focusState={},this.form=this.fb.group({email:["",[x.required,x.email]],password:["",[x.required,x.minLength(8)]]})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading.set(!0),this.serverError.set("");let{email:r,password:o}=this.form.value;this.auth.login(r,o).subscribe({next:()=>{this.snack.open("Welcome back to Saylo! \u{1F44B}","\u2715"),this.loading.set(!1),this.router.navigate(["/chat"])},error:n=>{this.serverError.set(n.error?.message||"Login failed. Try again."),this.loading.set(!1)}})}isInvalid(r){let o=this.form.get(r);return!!(o?.invalid&&o?.touched)}getError(r){let o=this.form.get(r);return o?.errors?.required?"This field is required":o?.errors?.email?"Enter a valid email address":o?.errors?.minlength?`Minimum ${o.errors.minlength.requiredLength} characters`:""}static{this.\u0275fac=function(o){return new(o||i)(g(N),g(O),g(A),g(P))}}static{this.\u0275cmp=w({type:i,selectors:[["app-login"]],standalone:!0,features:[M],decls:48,vars:16,consts:[[1,"auth-shell"],[1,"auth-bg"],[1,"orb","orb-1"],[1,"orb","orb-2"],[1,"orb","orb-3"],[1,"grid-overlay"],[1,"auth-card","animate-scale-in"],[1,"auth-logo"],[1,"logo-mark"],[1,"logo-text","gradient-text"],[1,"auth-title"],[1,"auth-subtitle"],["novalidate","",1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],[1,"input-wrap"],[1,"input-icon"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","formControlName","email","placeholder","you@example.com","autocomplete","email",3,"focus","blur"],[1,"form-error"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password",3,"focus","blur","type"],["type","button",1,"toggle-password",3,"click"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"server-error","animate-fade-in"],["type","submit",1,"saylo-btn-primary","submit-btn",3,"disabled"],[1,"auth-footer"],["routerLink","/auth/register",1,"auth-link"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"btn-spinner"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"]],template:function(o,n){o&1&&(e(0,"div",0)(1,"div",1),s(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t(),e(6,"div",6)(7,"div",7)(8,"div",8),l(9,"S"),t(),e(10,"span",9),l(11,"Saylo"),t()(),e(12,"h1",10),l(13,"Welcome back"),t(),e(14,"p",11),l(15,"Sign in to continue your conversations"),t(),e(16,"form",12),f("ngSubmit",function(){return n.onSubmit()}),e(17,"div",13)(18,"label",14),l(19,"Email"),t(),e(20,"div",15)(21,"span",16),p(),e(22,"svg",17),s(23,"path",18)(24,"polyline",19),t()(),_(),e(25,"input",20),f("focus",function(){return n.focusState.email=!0})("blur",function(){return n.focusState.email=!1}),t()(),m(26,F,2,1,"span",21),t(),e(27,"div",13)(28,"label",14),l(29,"Password"),t(),e(30,"div",15)(31,"span",16),p(),e(32,"svg",17),s(33,"rect",22)(34,"path",23),t()(),_(),e(35,"input",24),f("focus",function(){return n.focusState.password=!0})("blur",function(){return n.focusState.password=!1}),t(),e(36,"button",25),f("click",function(){return n.showPassword.set(!n.showPassword())}),m(37,q,3,0,":svg:svg",26)(38,D,3,0),t()(),m(39,H,2,1,"span",21),t(),m(40,R,6,1,"div",27),e(41,"button",28),m(42,W,2,0)(43,$,4,0),t()(),e(44,"div",29),l(45," Don't have an account? "),e(46,"a",30),l(47,"Create one"),t()()()()),o&2&&(a(16),v("formGroup",n.form),a(4),C("error",n.isInvalid("email"))("focused",n.focusState.email),a(6),u(26,n.isInvalid("email")?26:-1),a(4),C("error",n.isInvalid("password"))("focused",n.focusState.password),a(5),v("type",n.showPassword()?"text":"password"),a(2),u(37,n.showPassword()?37:38),a(2),u(39,n.isInvalid("password")?39:-1),a(),u(40,n.serverError()?40:-1),a(),v("disabled",n.loading()),a(),u(42,n.loading()?42:43))},dependencies:[k,E,j,I,L,T,z,V,G,B],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg-void);position:relative;overflow:hidden}.auth-bg[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.6}.orb-1[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(108,99,255,.25) 0%,transparent 70%);top:-150px;left:-100px}.orb-2[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(0,212,255,.15) 0%,transparent 70%);bottom:-100px;right:-80px}.orb-3[_ngcontent-%COMP%]{width:300px;height:300px;background:radial-gradient(circle,rgba(255,107,157,.1) 0%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)}.grid-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.015) 1px,transparent 1px);background-size:40px 40px}.auth-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:420px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-xl);padding:40px;box-shadow:var(--shadow-lg),var(--shadow-glow)}.auth-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:28px}.logo-mark[_ngcontent-%COMP%]{width:42px;height:42px;background:var(--grad-cyber);border-radius:12px;display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-weight:800;font-size:18px;color:#fff;box-shadow:0 4px 16px #6c63ff66}.logo-text[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:22px;font-weight:800;letter-spacing:-.5px}.auth-title[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:26px;font-weight:700;color:var(--text-primary);letter-spacing:-.5px;margin-bottom:6px}.auth-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin-bottom:28px}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-secondary);letter-spacing:.2px}.input-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-md);padding:0 14px;transition:var(--transition-fast);gap:10px;&.focused{border-color:var(--border-focus);box-shadow:0 0 0 3px #6c63ff1f}&.error{border-color:var(--accent-red)}}.input-icon[_ngcontent-%COMP%]{color:var(--text-muted);display:flex;flex-shrink:0}.input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:none;border:none;outline:none;padding:13px 0;color:var(--text-primary);font-family:var(--font-body);font-size:14px;&::placeholder{color:var(--text-muted)}}.toggle-password[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:var(--text-muted);display:flex;padding:0;transition:color .15s;&:hover{color:var(--text-secondary)}}.form-error[_ngcontent-%COMP%]{font-size:12px;color:var(--accent-red)}.server-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 14px;background:#ff6b6b14;border:1px solid rgba(255,107,107,.2);border-radius:var(--radius-md);font-size:13px;color:var(--accent-red)}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:14px;margin-top:4px;font-size:15px}.btn-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:24px;font-size:13.5px;color:var(--text-muted)}.auth-link[_ngcontent-%COMP%]{color:var(--accent-primary);font-weight:600;text-decoration:none;margin-left:4px;&:hover{text-decoration:underline}}"]})}}return i})();export{oe as LoginComponent};
