import{h as F,i as q}from"./chunk-62RSK54R.js";import{a as R,b as p,c as z,d as I,f as G,g as V,h as A,i as L,k as N}from"./chunk-WU2R6EY6.js";import{$a as E,Ba as l,Ca as v,Da as P,E as S,Ia as k,K as c,L as x,Sa as O,T as a,U as b,ca as _,eb as T,fa as g,ha as C,ia as M,ja as w,ka as y,la as u,ma as e,na as n,oa as s,ta as f,va as h}from"./chunk-WQXZ4LHS.js";import"./chunk-2H7K6JAD.js";function B(i,m){if(i&1&&(e(0,"span",20),l(1),n()),i&2){let r=h();a(),v(r.getError("name"))}}function j(i,m){if(i&1&&(e(0,"span",20),l(1),n()),i&2){let r=h();a(),v(r.getError("email"))}}function D(i,m){i&1&&(c(),e(0,"svg",28),s(1,"path",37)(2,"line",38),n())}function H(i,m){i&1&&(c(),e(0,"svg",28),s(1,"path",39)(2,"circle",40),n())}function Z(i,m){if(i&1&&(e(0,"span",20),l(1),n()),i&2){let r=h();a(),v(r.getError("password"))}}function W(i,m){if(i&1&&(e(0,"div",33),c(),e(1,"svg",28),s(2,"circle",41)(3,"line",42)(4,"line",43),n(),l(5),n()),i&2){let r=h();a(5),P(" ",r.serverError()," ")}}function J(i,m){i&1&&(s(0,"span",44),l(1," Creating account... "))}function Y(i,m){i&1&&(l(0," Create account "),c(),e(1,"svg",45),s(2,"line",46)(3,"polyline",47),n())}var oe=(()=>{class i{constructor(r,o,t){this.fb=r,this.auth=o,this.snack=t,this.loading=_(!1),this.showPassword=_(!1),this.serverError=_(""),this.focusState={},this.form=this.fb.group({name:["",[p.required,p.minLength(2)]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(8),p.pattern(/^(?=.*[A-Z])(?=.*[0-9])/)]]})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading.set(!0),this.serverError.set("");let{name:r,email:o,password:t}=this.form.value;this.auth.register({name:r,email:o,password:t}).subscribe({next:()=>{this.snack.open("Welcome to Saylo! \u{1F389}","\u2715"),this.loading.set(!1)},error:d=>{this.serverError.set(d.error?.message||"Registration failed. Try again."),this.loading.set(!1)}})}passwordStrength(){let r=this.form.get("password")?.value||"",o=0;return r.length>=8&&(o+=25),r.length>=12&&(o+=15),/[A-Z]/.test(r)&&(o+=20),/[0-9]/.test(r)&&(o+=20),/[^A-Za-z0-9]/.test(r)&&(o+=20),Math.min(o,100)}strengthClass(){let r=this.passwordStrength();return r<30?"weak":r<55?"fair":r<80?"good":"strong"}strengthLabel(){return{weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"}[this.strengthClass()]}isInvalid(r){let o=this.form.get(r);return!!(o?.invalid&&o?.touched)}getError(r){let o=this.form.get(r);return o?.errors?.required?"This field is required":o?.errors?.email?"Enter a valid email address":o?.errors?.minlength?`Minimum ${o.errors.minlength.requiredLength} characters`:o?.errors?.pattern?"Must have uppercase letter & number":""}static{this.\u0275fac=function(o){return new(o||i)(b(L),b(T),b(F))}}static{this.\u0275cmp=S({type:i,selectors:[["app-register"]],standalone:!0,features:[k],decls:62,vars:28,consts:[[1,"auth-shell"],[1,"auth-bg"],[1,"orb","orb-1"],[1,"orb","orb-2"],[1,"grid-overlay"],[1,"auth-card","animate-scale-in"],[1,"auth-logo"],[1,"logo-mark"],[1,"logo-text","gradient-text"],[1,"auth-title"],[1,"auth-subtitle"],["novalidate","",1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],[1,"input-wrap"],[1,"input-icon"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","8","r","5"],["d","M20 21a8 8 0 1 0-16 0"],["type","text","formControlName","name","placeholder","Your full name",3,"focus","blur"],[1,"form-error"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","formControlName","email","placeholder","you@example.com",3,"focus","blur"],["x","3","y","11","width","18","height","11","rx","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["formControlName","password","placeholder","Min 8 chars, 1 uppercase, 1 number",3,"focus","blur","type"],["type","button",1,"toggle-password",3,"click"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"strength-bar"],[1,"strength-track"],[1,"strength-fill"],[1,"strength-label"],[1,"server-error","animate-fade-in"],["type","submit",1,"saylo-btn-primary","submit-btn",3,"disabled"],[1,"auth-footer"],["routerLink","/auth/login",1,"auth-link"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"btn-spinner"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"]],template:function(o,t){o&1&&(e(0,"div",0)(1,"div",1),s(2,"div",2)(3,"div",3)(4,"div",4),n(),e(5,"div",5)(6,"div",6)(7,"div",7),l(8,"S"),n(),e(9,"span",8),l(10,"Saylo"),n()(),e(11,"h1",9),l(12,"Create account"),n(),e(13,"p",10),l(14,"Join Saylo \u2014 connect with everyone"),n(),e(15,"form",11),f("ngSubmit",function(){return t.onSubmit()}),e(16,"div",12)(17,"label",13),l(18,"Full Name"),n(),e(19,"div",14)(20,"span",15),c(),e(21,"svg",16),s(22,"circle",17)(23,"path",18),n()(),x(),e(24,"input",19),f("focus",function(){return t.focusState.name=!0})("blur",function(){return t.focusState.name=!1}),n()(),g(25,B,2,1,"span",20),n(),e(26,"div",12)(27,"label",13),l(28,"Email"),n(),e(29,"div",14)(30,"span",15),c(),e(31,"svg",16),s(32,"path",21)(33,"polyline",22),n()(),x(),e(34,"input",23),f("focus",function(){return t.focusState.email=!0})("blur",function(){return t.focusState.email=!1}),n()(),g(35,j,2,1,"span",20),n(),e(36,"div",12)(37,"label",13),l(38,"Password"),n(),e(39,"div",14)(40,"span",15),c(),e(41,"svg",16),s(42,"rect",24)(43,"path",25),n()(),x(),e(44,"input",26),f("focus",function(){return t.focusState.password=!0})("blur",function(){return t.focusState.password=!1}),n(),e(45,"button",27),f("click",function(){return t.showPassword.set(!t.showPassword())}),g(46,D,3,0,":svg:svg",28)(47,H,3,0),n()(),g(48,Z,2,1,"span",20),n(),e(49,"div",29)(50,"div",30),s(51,"div",31),n(),e(52,"span",32),l(53),n()(),g(54,W,6,1,"div",33),e(55,"button",34),g(56,J,2,0)(57,Y,4,0),n()(),e(58,"div",35),l(59," Already have an account? "),e(60,"a",36),l(61,"Sign in"),n()()()()),o&2&&(a(15),C("formGroup",t.form),a(4),w("error",t.isInvalid("name"))("focused",t.focusState.name),a(6),u(25,t.isInvalid("name")?25:-1),a(4),w("error",t.isInvalid("email"))("focused",t.focusState.email),a(6),u(35,t.isInvalid("email")?35:-1),a(4),w("error",t.isInvalid("password"))("focused",t.focusState.password),a(5),C("type",t.showPassword()?"text":"password"),a(2),u(46,t.showPassword()?46:47),a(2),u(48,t.isInvalid("password")?48:-1),a(3),y(t.strengthClass()),M("width",t.passwordStrength(),"%"),a(),y(t.strengthClass()),a(),v(t.strengthLabel()),a(),u(54,t.serverError()?54:-1),a(),C("disabled",t.loading()),a(),u(56,t.loading()?56:57))},dependencies:[O,E,N,G,R,z,I,V,A,q],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg-void);position:relative;overflow:hidden}.auth-bg[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.6}.orb-1[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(108,99,255,.22) 0%,transparent 70%);top:-150px;right:-100px}.orb-2[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(255,107,157,.15) 0%,transparent 70%);bottom:-100px;left:-80px}.grid-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.015) 1px,transparent 1px);background-size:40px 40px}.auth-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:420px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-xl);padding:40px;box-shadow:var(--shadow-lg),var(--shadow-glow)}.auth-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:28px}.logo-mark[_ngcontent-%COMP%]{width:42px;height:42px;background:var(--grad-cyber);border-radius:12px;display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-weight:800;font-size:18px;color:#fff;box-shadow:0 4px 16px #6c63ff66}.logo-text[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:22px;font-weight:800;letter-spacing:-.5px}.auth-title[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:26px;font-weight:700;color:var(--text-primary);letter-spacing:-.5px;margin-bottom:6px}.auth-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin-bottom:28px}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-secondary);letter-spacing:.2px}.input-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-md);padding:0 14px;transition:var(--transition-fast);gap:10px}.input-wrap.focused[_ngcontent-%COMP%]{border-color:var(--border-focus);box-shadow:0 0 0 3px #6c63ff1f}.input-wrap.error[_ngcontent-%COMP%]{border-color:var(--accent-red)}.input-icon[_ngcontent-%COMP%]{color:var(--text-muted);display:flex;flex-shrink:0}.input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:none;border:none;outline:none;padding:13px 0;color:var(--text-primary);font-family:var(--font-body);font-size:14px}.input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.toggle-password[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:var(--text-muted);display:flex;padding:0;transition:color .15s}.toggle-password[_ngcontent-%COMP%]:hover{color:var(--text-secondary)}.form-error[_ngcontent-%COMP%]{font-size:12px;color:var(--accent-red)}.strength-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:-6px}.strength-track[_ngcontent-%COMP%]{flex:1;height:3px;background:var(--bg-elevated);border-radius:2px;overflow:hidden}.strength-fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:width .4s ease,background .3s}.strength-fill.weak[_ngcontent-%COMP%]{background:var(--accent-red)}.strength-fill.fair[_ngcontent-%COMP%]{background:var(--accent-amber)}.strength-fill.good[_ngcontent-%COMP%]{background:var(--accent-secondary)}.strength-fill.strong[_ngcontent-%COMP%]{background:var(--accent-green)}.strength-label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;width:44px;text-align:right}.strength-label.weak[_ngcontent-%COMP%]{color:var(--accent-red)}.strength-label.fair[_ngcontent-%COMP%]{color:var(--accent-amber)}.strength-label.good[_ngcontent-%COMP%]{color:var(--accent-secondary)}.strength-label.strong[_ngcontent-%COMP%]{color:var(--accent-green)}.server-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 14px;background:#ff6b6b14;border:1px solid rgba(255,107,107,.2);border-radius:var(--radius-md);font-size:13px;color:var(--accent-red)}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:14px;margin-top:4px;font-size:15px}.btn-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:24px;font-size:13.5px;color:var(--text-muted)}.auth-link[_ngcontent-%COMP%]{color:var(--accent-primary);font-weight:600;text-decoration:none;margin-left:4px}.auth-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return i})();export{oe as RegisterComponent};
